
akka.actor.deployment {

  /AuthenticationServiceRouter {
    router = round-robin-group
    routees.paths = ["/user/AuthenticationService"]
    cluster {
      enabled = on
      allow-local-routees = on
      use-role = "core"
    }
  }

  /AuthenticationService/login{
    router = round-robin-pool
    nr-of-instances = 20
  }

  /AuthenticationService/logout{
    router = round-robin-pool
    nr-of-instances = 20
  }

  /AuthenticationService/authenticate{
    router = round-robin-pool
    nr-of-instances = 20
  }

  /AuthenticationService/applicationState{
    router = round-robin-pool
    nr-of-instances = 20
  }


  /ApplicationServiceRouter {
    router = round-robin-group
    routees.paths = ["/user/ApplicationService"]
    cluster {
      enabled = on
      allow-local-routees = on
      use-role = "core"
    }
  }

 /ApplicationService/applicationServiceWorker {
   router = round-robin-pool
   nr-of-instances = 20
 }


}

annette {

  cluster = false

  core {
    AuthenticationService {
      rememberMeSessionTimeout = 14d
      sessionTimeout = 1h
    }

  }


  security {
    # для тестирования rest указываем debug = true
    debug = false
    # debugSession {
    #  session = "00000000-0000-00000-0000-0000000000000"
    #  user = "00000000-0000-00000-0000-0000000000000"
    #  tenant = abc
    #  application = def
    #  language = ru
    #}
  }
}

akka {
  actor {
    serializers {
      coreSerializer = "annette.core.serializer.CoreSerializer"
    }

    serialization-bindings {
      "annette.core.domain.tenancy.UserService$UserCreatedEvt" = coreSerializer
      "annette.core.domain.tenancy.UserService$UserUpdatedEvt" = coreSerializer
      "annette.core.domain.tenancy.UserService$UserDeletedEvt" = coreSerializer
      "annette.core.domain.tenancy.UserState" = coreSerializer
      "annette.core.domain.application.ApplicationService$ApplicationCreatedEvt" = coreSerializer
      "annette.core.domain.application.ApplicationService$ApplicationUpdatedEvt" = coreSerializer
      "annette.core.domain.application.ApplicationService$ApplicationDeletedEvt" = coreSerializer
      "annette.core.domain.application.ApplicationState" = coreSerializer
    }
  }
}


